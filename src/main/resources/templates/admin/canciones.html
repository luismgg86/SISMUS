<div xmlns:th="http://www.thymeleaf.org" th:fragment="fragment" class="admin-bg">

<div class="container mt-4 text-white">

        <h2 class="mb-3">Administrar Canciones Activas</h2>

        <div th:if="${mensajeExito}" class="alert alert-success alert-dismissible fade show" role="alert">
            <span th:text="${mensajeExito}"></span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <div th:if="${mensajeError}" class="alert alert-danger alert-dismissible fade show" role="alert">
            <span th:text="${mensajeError}"></span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <div class="mb-3 d-flex justify-content-between">
            <a class="btn btn-success" th:href="@{/admin/canciones/nueva}">
                ‚ûï Agregar nueva canci√≥n
            </a>

            <a class="btn btn-outline-warning" th:href="@{/admin/canciones/inactivas}">
                üí§ Ver canciones inactivas
            </a>
        </div>

        <table class="table table-dark table-striped align-middle">
            <thead>
            <tr>
                <th>ID</th>
                <th>T√≠tulo</th>
                <th>Artista</th>
                <th>G√©nero</th>
                <th>Duraci√≥n</th>
                <th>Fecha Alta</th>
                <th>Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="c : ${canciones}">
                <td th:text="${c.id}"></td>
                <td th:text="${c.titulo}"></td>
                <td th:text="${c.artistaNombre}"></td>
                <td th:text="${c.generoNombre}"></td>
                <td th:text="${c.duracion != null ? ((c.duracion / 60) + ':' + #numbers.formatInteger(c.duracion % 60, 2)) : '0:00'}"></td>
                <td th:text="${#temporals.format(c.fechaAlta, 'dd/MM/yyyy')}"></td>
                <td>
                    <div class="btn-group">
                        <a class="btn btn-warning btn-sm"
                           th:href="@{'/admin/canciones/editar/' + ${c.id}}">
                            ‚úèÔ∏è Editar
                        </a>
                        <a class="btn btn-danger btn-sm"
                           th:href="@{'/admin/canciones/eliminar/' + ${c.id}}"
                           onclick="return confirm('¬øSeguro que deseas desactivar esta canci√≥n?');">
                            üóëÔ∏è Desactivar
                        </a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <div th:if="${#lists.isEmpty(canciones)}" class="alert alert-warning mt-3">
            No hay canciones activas.
        </div>
    </div>

</div>
