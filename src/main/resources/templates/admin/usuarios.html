<div xmlns:th="http://www.thymeleaf.org" th:fragment="fragment">

    <div class="container mt-4 text-white">
        <h2 class="mb-3">Administrar Usuarios</h2>

        <table class="table table-dark table-striped align-middle">
            <thead>
            <tr>
                <th>ID</th>
                <th>Nickname</th>
                <th>Nombre completo</th>
                <th>Correo</th>
                <th>Roles</th>
                <th>Activo</th>
                <th>Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="u : ${usuarios}">
                <td th:text="${u.id}"></td>
                <td th:text="${u.nickname}"></td>
                <td th:text="${u.nombreCompleto}"></td>
                <td th:text="${u.correo}"></td>
                <td>
                    <span th:each="r : ${u.roles}" th:text="${r}"
                          class="badge bg-info text-dark me-1"></span>
                </td>
                <td>
                    <span th:if="${u.activo}" class="badge bg-success">Activo</span>
                    <span th:if="${!u.activo}" class="badge bg-danger">Inactivo</span>
                </td>
                <td>
                    <a class="btn btn-warning btn-sm"
                       th:href="@{'/admin/usuarios/roles/' + ${u.id}}">
                        ðŸ‘¤ Roles
                    </a>

                    <a class="btn btn-success btn-sm"
                       th:if="${!u.activo}"
                       th:href="@{'/admin/usuarios/activar/' + ${u.id}}"
                       onclick="return confirm('Â¿Activar este usuario?')">
                           Activar
                    </a>

                    <a class="btn btn-danger btn-sm"
                       th:if="${u.activo}"
                       th:href="@{'/admin/usuarios/desactivar/' + ${u.id}}"
                       onclick="return confirm('Â¿Desactivar este usuario?')">
                           Desactivar
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
